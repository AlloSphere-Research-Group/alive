<html>
<head>
  	<title>alloeditor testing yet again</title>
	<link rel="stylesheet" type="text/css" href="js/codemirror/codemirror.css"/>
	<link rel="stylesheet" type="text/css" href="js/codemirror/vibrant-ink.css"/>
	<link rel="stylesheet" type="text/css" href="js/codemirror/util/simple-hint.css"/>
	<link rel="stylesheet" type="text/css" href="css/ui-darkness/jquery-ui-1.8.23.custom.css"/>

	<link rel="stylesheet" type="text/css" href="css/main.css"/>

	<script src="js/socket.io.js"></script>
	<script src="js/client_socket.osc.js"></script>
	<script src="js/jquery.js"></script>
	
	<script src="js/codemirror/codemirror.js"></script>
	<script src="js/codemirror/mode/javascript/javascript.js"></script>
	<script src="js/codemirror/mode/clike/clike.js"></script>
	<script src="js/codemirror/mode/lua/lua.js"></script>
	
	<script type="text/javascript" src="js/codemirror/util/searchcursor.js"></script>
	<script type="text/javascript" src="js/codemirror/util/match-highlighter.js"></script>
	<script type="text/javascript" src="js/codemirror/util/simple-hint.js"></script>
	<script type="text/javascript" src="js/codemirror/util/javascript-hint.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.8.23.custom.min.js"></script>
    <script src="config.js"></script>
	
	<script src="js/bcsocket-uncompressed.js"></script>
	<script src="js/share.uncompressed.js"></script>
	<script src="js/cm.js"></script>
	<!--<script src="js/codemirror_attach.js"></script>-->
	
	<script src="js/main.js"></script>

	
</head>
<body>
	<!--<div id="left">
		<div id="fileBar"></div>
		<div style="white-space:nowrap; display:block; height:1.5em; line-break:">
			<a onclick="slaveSocket.emit('cmd', 'cd ..');" style="cursor:pointer; margin-left:1em">&#x25B2;</a>
			<a onclick="newFile();" style="cursor:pointer;">+</a>
			<h3 id="dir" style="font-size:1em; display:inline; font-family:monospace">dir</h3>
			<div>
			<ul id="fileBrowser"></ul>
			</div>
		</div>
		
	</div>-->
	<div id="right">
		<div id="filename_header"><span id="filename">a.l.i.v.e.</span> - <span id="sharejs_status">connecting..</span></div>
		<textarea id="codeEditor" name="codeEditor">
local av = require "av"
local vec = require "vec"
local ev = require "ev"
local app = av.app

local sin, cos = math.sin,math.cos
local abs, floor = math.abs, math.floor
local random = math.random
local srandom = function() return random() * 2 - 1 end

function app:update(dt)
	av:events()
	
	-- pick a random agent:
	local a = pick("default")
	if a then
		a.turn.x = 0
		a.turn.y = 10 * srandom()
		a.turn.z = 0
		a.color.g = 0
	end
	
	local a = pick("default")
	if a then
		local i = random(150)
		a.move:set(0, 0, 30. * random())
		a.turn.x = 2.*cos(i)
		a.turn.y = 0
		a.turn.z = 0
		a.color.r = random()
		a.color.g = 0.5
	end
	
	local a = pick("default")
	if a then
		local i = random(150)
		a.move:set(0, 0, 0)
		a.position.x = 10. * sin(i * 0.1) + 5.
		a.position.y = sin(i) + i * 0.01
		a.position.z = 10. * cos(i * 0.1) - 5.
		a.rotate:fromAxisY(cos(i))
		a.color.r = 0.5
		a.color.g = 0.5
	end
end

print("ok")
		</textarea>
		<div id="console">
			<div id="consoleBar"></div>
			<div id="tabs">
				<ul>
					<li><a href="#console-all">All</a></li>
					<li><a href="#console-renderer1">Renderer 1</a><span class='status' onclick='connect(1, this);'>&#9679;</span></li>
					<li><a href="#console-renderer2">Renderer 2</a><span class='status' onclick='connect(2, this);'>&#9679;</span></li>
					<li><a href="#console-renderer3">Renderer 3</a><span class='status' onclick='connect(3, this);'>&#9679;</span></li>
					<li><a href="#console-renderer4">Renderer 4</a><span class='status' onclick='connect(4, this);'>&#9679;</span></li>
					<li><a href="#console-renderer5">Renderer 5</a><span class='status' onclick='connect(5, this);'>&#9679;</span></li>
				</ul>
				<div id="consoleContainer">
				<div class="consoleStyle" id="console-all">a bunch of stuff</div>
				<div class="consoleStyle" id="console-renderer1">Renderer 1</div>
				<div class="consoleStyle" id="console-renderer2">Renderer 2</div>
				<div class="consoleStyle" id="console-renderer3">Renderer 3</div>
				<div class="consoleStyle" id="console-renderer4">Renderer 4</div>
				<div class="consoleStyle" id="console-renderer5">Renderer 5</div>
				</div>				
			</div>
			
		</div>
	</div>
</body>
</html>
